local ReplicatedStorage = game:GetService("ReplicatedStorage")
local BuildRequest = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("BuildRequest")

-- Batch of builds
local batchBuilds = {
    {"Metal Truss", CFrame.new(-83, 1.999998, -185), workspace:WaitForChild("Surface")},
    {"Metal Sheet", CFrame.new(-83, 4.499998, -185), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Truss"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 4.499998, -181), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 4.499998, -177), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 4.499998, -173), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 4.499998, -169), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Truss", CFrame.new(-83, 6.999996, -169), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Truss", CFrame.new(-83, 10.999996, -169), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Truss"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 13.499996, -169), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Truss"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 13.499996, -173), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 13.499996, -177), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 13.499996, -181), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-83, 13.499996, -185), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-87, 4.499998, -181), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-87, 4.499998, -177), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-87, 4.499998, -173), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-91, 4.499998, -177), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-95, 4.499998, -177), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-79, 4.499998, -173), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-79, 4.499998, -177), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-79, 4.499998, -181), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-75, 4.499998, -177), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
    {"Metal Sheet", CFrame.new(-71, 4.499998, -177), workspace:WaitForChild("PlacedBuildings"):WaitForChild("Metal Sheet"):WaitForChild("Pivot")},
}

-- Send them in a single loop with small delay between batches
for i = 1, #batchBuilds, 5 do  -- 5 parts per batch
    local batch = {}
    for j = i, math.min(i+4, #batchBuilds) do
        table.insert(batch, batchBuilds[j])
    end
    -- Send batch
    BuildRequest:InvokeServer(batch)  -- make sure server can accept batch table
    task.wait(0.2)  -- smaller delay between batches
end
